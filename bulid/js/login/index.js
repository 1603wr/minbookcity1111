"use strict";define(["jquery"],function(a){var l=window.localStorage;a(".eye").on("click",function(){a(this).toggleClass("act"),a(this).hasClass("act")?a(".pwd").attr("type","text"):a(".pwd").attr("type","password")}),a("button").on("click",function(){var t=a(".text").val().trim(),s=a(".pwd").val().trim(),e="";if(""==t||""==s)e="用户名和密码不能为空";else{/^1[345678]\d{9}$/.test(t)&&!/^\w+@\w+\.[com|net|cn]$/.test(t)||(e="用户名不正确")}if(/[^0-9a-z]/i.test(s)||s.length<5||8<s.length)e="密码格式不正确";else{(/^\d{5,8}$/.test(s)||/^a-z{5,8}$/i.test(s))&&(e="密码格式错误")}e?(console.log(e),a(".err").html(e)):a(this).hasClass("loginbtn")?a.ajax({url:"/api/login",type:"post",dataType:"json",data:{user:t,pwd:s},success:function(t){t.result?(history.go(-1),l.setItem("succ",1)):alert(t.msg)}}):a.ajax({url:"/api/res",type:"post",data:{user:t,pwd:s},success:function(t){t.result&&alert(t.msg)}})})});